<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installing Meshtastic on Heltec V2 | Dr. Phyllis J. Beck</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <!-- Starfield background -->
    <div class="stars"></div>
    <div class="stars stars-2"></div>
    
    <!-- Navigation -->
    <nav class="main-nav">
        <a href="../index.html" class="nav-link">
            <span class="nav-icon">‚åÇ</span>
            <span class="nav-text">Home</span>
        </a>
        <a href="../index.html#tutorials" class="nav-link active">
            <span class="nav-icon">üìñ</span>
            <span class="nav-text">Tutorials</span>
        </a>
        <a href="../index.html#projects" class="nav-link">
            <span class="nav-icon">üöÄ</span>
            <span class="nav-text">Projects</span>
        </a>
        <a href="../index.html#contact" class="nav-link">
            <span class="nav-icon">‚úâ</span>
            <span class="nav-text">Contact</span>
        </a>
    </nav>

    <!-- Article Header -->
    <header class="article-header">
        <a href="../index.html#tutorials" class="back-link">‚Üê Back to Tutorials</a>
        <h1>Installing Meshtastic on Heltec V2</h1>
        <div class="article-meta">
            <span class="tutorial-tag">Meshtastic</span>
            <span class="tutorial-tag">Heltec V2</span>
            <span class="tutorial-tag">ESP32</span>
            <span class="tutorial-tag difficulty-beginner">Beginner</span>
        </div>
        <p style="color: var(--text-secondary); margin-top: var(--space-md);">
            Flash Meshtastic firmware to your Heltec LoRa 32 V2 using the command line and esptool.
        </p>
    </header>

    <main class="article-content">
        <h2>Overview</h2>
        <p>
            The Heltec LoRa 32 V2 is an older but still capable device for running Meshtastic. 
            Since the web flasher doesn't always work reliably with V2 boards, this guide covers 
            the manual command-line approach using <code>esptool</code>.
        </p>

        <div class="info-box">
            <div class="info-box-title">üì° Heltec V2 Support</div>
            <p>
                The newest Meshtastic version that supports Heltec V2 is <strong>v2.5.6</strong>. 
                Newer versions have dropped support for this hardware, so we'll use this specific release.
            </p>
        </div>

        <div class="materials-list">
            <h3>What You'll Need</h3>
            <ul>
                <li><strong>Heltec LoRa 32 V2</strong> board</li>
                <li><strong>USB cable</strong> (data-capable, not charge-only)</li>
                <li><strong>Python 3</strong> installed on your computer</li>
                <li><strong>Terminal/Command Line</strong> access</li>
            </ul>
        </div>

        <h2>Step 1: Install esptool</h2>
        <p>
            <code>esptool</code> is a Python-based utility for flashing ESP32 devices. 
            Install it using pip:
        </p>

        <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
                <h4>Install esptool via pip</h4>
                <pre><code>pip install esptool</code></pre>
                <p>If you have multiple Python versions, you may need to use <code>pip3</code> instead.</p>
            </div>
        </div>

        <h2>Step 2: Download the Firmware</h2>
        <p>
            Download the correct firmware version for Heltec V2 from the Meshtastic GitHub releases.
        </p>

        <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
                <h4>Download v2.5.6 Firmware</h4>
                <p>Get the ESP32 firmware package from:</p>
                <pre><code>https://github.com/meshtastic/firmware/releases/download/v2.5.6.d55c08d/firmware-esp32-2.5.6.d55c08d.zip</code></pre>
            </div>
        </div>

        <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
                <h4>Extract the Firmware</h4>
                <p>Unzip the downloaded file. You'll find several <code>.bin</code> files inside. 
                Look for the ones starting with <code>firmware-heltec-v2_0</code>.</p>
            </div>
        </div>

        <h2>Understanding the Firmware Files</h2>
        <p>
            The firmware package includes two types of images for Heltec V2:
        </p>

        <div class="info-box">
            <div class="info-box-title">üì¶ firmware-heltec-v2_0-2.5.6.d55c08d.bin</div>
            <p>
                <strong>Complete factory image</strong> ‚Äî Includes the bootloader, partition table, 
                and Meshtastic application. Use this for a fresh install as it overwrites everything.
            </p>
        </div>

        <div class="info-box">
            <div class="info-box-title">üîÑ firmware-heltec-v2_0-2.5.6.d55c08d-update.bin</div>
            <p>
                <strong>Partial update image</strong> ‚Äî Contains only the new application code. 
                Use this when you're already running a version of Meshtastic and want to upgrade 
                without losing your configuration. Flash to address <code>0x10000</code>. 
                <strong>Do not</strong> run <code>erase_flash</code> before using this file.
            </p>
        </div>

        <h2>Step 3: Connect Your Device</h2>

        <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
                <h4>Connect via USB</h4>
                <p>
                    Plug your Heltec V2 into your computer using a USB cable. 
                    Make sure it's a data cable, not a charge-only cable.
                </p>
            </div>
        </div>

        <div class="info-box warning">
            <div class="info-box-title">‚ö†Ô∏è Driver Issues?</div>
            <p>
                If your device isn't detected, you may need to install the CH340 or CP210x USB 
                drivers. On macOS, you might also need to allow the driver in System Preferences ‚Üí 
                Security & Privacy.
            </p>
        </div>

        <h2>Step 4: Flash the Firmware</h2>
        <p>
            Navigate to the folder containing your firmware file and run the flash command.
        </p>

        <div class="step">
            <div class="step-number">5</div>
            <div class="step-content">
                <h4>Navigate to Firmware Folder</h4>
                <pre><code>cd path/to/your/firmware/folder</code></pre>
            </div>
        </div>

        <div class="step">
            <div class="step-number">6</div>
            <div class="step-content">
                <h4>Flash the Complete Image (Fresh Install)</h4>
                <pre><code>python -m esptool --chip esp32 write_flash 0x0 firmware-heltec-v2_0-2.5.6.d55c08d.bin</code></pre>
                <p>
                    This writes the complete factory image starting at address <code>0x0</code>. 
                    The device will reboot automatically when complete.
                </p>
            </div>
        </div>

        <div class="info-box">
            <div class="info-box-title">üîÑ Upgrading Instead?</div>
            <p>If you're upgrading from a previous Meshtastic version and want to keep your config:</p>
            <pre><code>python -m esptool --chip esp32 write_flash 0x10000 firmware-heltec-v2_0-2.5.6.d55c08d-update.bin</code></pre>
        </div>

        <h2>Step 5: Verify Installation</h2>

        <div class="step">
            <div class="step-number">7</div>
            <div class="step-content">
                <h4>Check the Display</h4>
                <p>
                    After flashing, the Heltec V2's OLED screen should show the Meshtastic logo 
                    and then display the device's information.
                </p>
            </div>
        </div>

        <div class="step">
            <div class="step-number">8</div>
            <div class="step-content">
                <h4>Connect with Mobile App</h4>
                <p>
                    Open the Meshtastic app on your phone, enable Bluetooth, and look for your 
                    device. It should appear as "Meshtastic_xxxx".
                </p>
            </div>
        </div>

        <h2>Troubleshooting</h2>

        <div class="info-box warning">
            <div class="info-box-title">Device Not Detected?</div>
            <p>
                Try a different USB cable (some are charge-only). On macOS/Linux, check 
                <code>ls /dev/tty.*</code> to see if the device appears. You may need to 
                install CH340 drivers.
            </p>
        </div>

        <div class="info-box warning">
            <div class="info-box-title">Flash Failed?</div>
            <p>
                Hold the "PRG" button on the Heltec while plugging in USB to force bootloader 
                mode. Then try flashing again.
            </p>
        </div>

        <div class="info-box warning">
            <div class="info-box-title">Permission Denied (Linux)?</div>
            <p>
                Add yourself to the <code>dialout</code> group: 
                <code>sudo usermod -a -G dialout $USER</code> 
                Then log out and back in.
            </p>
        </div>

        <h2>Next Steps</h2>
        <p>
            Once your Heltec V2 is running Meshtastic, you can:
        </p>
        <ul>
            <li>Configure your node name and region in the mobile app</li>
            <li>Set up private channels for your community</li>
            <li>Deploy as a router node at a high point for extended coverage</li>
            <li>Connect with other Meshtastic users in your area</li>
        </ul>

        <p>
            Check out the full <a href="meshtastic-mesh.html">Meshtastic Mesh Network tutorial</a> 
            for detailed guidance on setting up your mesh network.
        </p>

        <div style="margin-top: var(--space-2xl); padding-top: var(--space-lg); border-top: 1px solid var(--border-color);">
            <a href="../index.html#tutorials" class="back-link">‚Üê Back to All Tutorials</a>
        </div>
    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <p class="footer-motto">"Where the light gathers"</p>
            <p class="footer-info">Dr. Phyllis J. Beck ‚Ä¢ Building for Resilience</p>
        </div>
        <div class="footer-decoration">
            <span>‚óâ</span>
        </div>
    </footer>
</body>
</html>
